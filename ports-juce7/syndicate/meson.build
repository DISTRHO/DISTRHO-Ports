###############################################################################

plugin_extra_build_flags = [
    '-Wno-deprecated-declarations',
]

plugin_extra_include_dirs = include_directories([
    'AllCommon',
    'PluginCommon',
    'PluginCommon/PluginHosting',
    'PluginCommon/PluginScanning',
    'PluginCommon/Processor',
    'PluginCommon/Processor/DataModel',
    'PluginCommon/Processor/Mutators',
    'PluginCommon/Processor/Processing',
    'Syndicate',
    'Syndicate/UI',
    'Syndicate/UI/HeaderComponents',
    'Syndicate/UI/HeaderComponents/Crossover',
    'Syndicate/UI/ModulationBar',
    'Syndicate/UI/PluginGraph',
    'WECore',
])

plugin_srcs = files([
    'AllCommon/MainLogger.cpp',
    'PluginCommon/PluginHosting/GuestPluginWindow.cpp',
    'PluginCommon/PluginScanning/ConfigurePopover.cpp',
    'PluginCommon/PluginScanning/PluginScanClient.cpp',
    'PluginCommon/PluginScanning/PluginScanStatusBar.cpp',
    'PluginCommon/PluginScanning/PluginSelectorComponent.cpp',
    'PluginCommon/PluginScanning/PluginSelectorList.cpp',
    'PluginCommon/PluginScanning/PluginSelectorState.cpp',
    'PluginCommon/PluginScanning/PluginSelectorWindow.cpp',
    'PluginCommon/PluginScanning/ScanConfiguration.cpp',
    'PluginCommon/Processor/DataModel/CloneableDelayLine.cpp',
    'PluginCommon/Processor/DataModel/CloneableLRFilter.cpp',
    'PluginCommon/Processor/DataModel/FFTProvider.cpp',
    'PluginCommon/Processor/DataModel/LatencyListener.cpp',
    'PluginCommon/Processor/DataModel/PluginConfigurator.cpp',
    'PluginCommon/Processor/Mutators/ChainMutators.cpp',
    'PluginCommon/Processor/Mutators/CrossoverMutators.cpp',
    'PluginCommon/Processor/Mutators/ModulationMutators.cpp',
    'PluginCommon/Processor/Mutators/MutatorsInterface.cpp',
    'PluginCommon/Processor/Mutators/SplitterMutators.cpp',
    'PluginCommon/Processor/Mutators/XmlReader.cpp',
    'PluginCommon/Processor/Mutators/XmlWriter.cpp',
    'PluginCommon/Processor/Processing/ChainProcessors.cpp',
    'PluginCommon/Processor/Processing/ChainSlotProcessors.cpp',
    'PluginCommon/Processor/Processing/CrossoverProcessors.cpp',
    'PluginCommon/Processor/Processing/ModulationProcessors.cpp',
    'PluginCommon/Processor/Processing/ProcessingInterface.cpp',
    'PluginCommon/Processor/Processing/SplitterProcessors.cpp',
    'Syndicate/PluginProcessor.cpp',
    'Syndicate/UI/HeaderComponents/ChainButton.cpp',
    'Syndicate/UI/HeaderComponents/ChainButtonsComponent.cpp',
    'Syndicate/UI/HeaderComponents/Crossover/CrossoverImagerComponent.cpp',
    'Syndicate/UI/HeaderComponents/Crossover/CrossoverMouseListener.cpp',
    'Syndicate/UI/HeaderComponents/Crossover/CrossoverParameterComponent.cpp',
    'Syndicate/UI/HeaderComponents/Crossover/CrossoverWrapperComponent.cpp',
    'Syndicate/UI/HeaderComponents/LeftrightSplitterSubComponent.cpp',
    'Syndicate/UI/HeaderComponents/MidsideSplitterSubComponent.cpp',
    'Syndicate/UI/HeaderComponents/MultibandSplitterSubComponent.cpp',
    'Syndicate/UI/HeaderComponents/ParallelSplitterSubComponent.cpp',
    'Syndicate/UI/HeaderComponents/SeriesSplitterSubComponent.cpp',
    'Syndicate/UI/HeaderComponents/SplitterHeaderComponent.cpp',
    'Syndicate/UI/ImportExportComponent.cpp',
    'Syndicate/UI/MacroComponent.cpp',
    'Syndicate/UI/MacrosComponent.cpp',
    'Syndicate/UI/MetadataEditComponent.cpp',
    'Syndicate/UI/ModulationBar/ModulatableParameter.cpp',
    'Syndicate/UI/ModulationBar/ModulationBar.cpp',
    'Syndicate/UI/ModulationBar/ModulationBarEnvelope.cpp',
    'Syndicate/UI/ModulationBar/ModulationBarLfo.cpp',
    'Syndicate/UI/ModulationBar/ModulationBarRandom.cpp',
    'Syndicate/UI/ModulationBar/ModulationButton.cpp',
    'Syndicate/UI/ModulationTargetSlider.cpp',
    'Syndicate/UI/ModulationTargetSourceSlider.cpp',
    'Syndicate/UI/OutputComponent.cpp',
    'Syndicate/UI/PluginEditor.cpp',
    'Syndicate/UI/PluginGraph/BaseSlotComponent.cpp',
    'Syndicate/UI/PluginGraph/ChainViewComponent.cpp',
    'Syndicate/UI/PluginGraph/EmptyPluginSlotComponent.cpp',
    'Syndicate/UI/PluginGraph/GainStageSlotComponent.cpp',
    'Syndicate/UI/PluginGraph/GraphViewComponent.cpp',
    'Syndicate/UI/PluginGraph/PluginModulationInterface.cpp',
    'Syndicate/UI/PluginGraph/PluginModulationTarget.cpp',
    'Syndicate/UI/PluginGraph/PluginParameterSelectorComponent.cpp',
    'Syndicate/UI/PluginGraph/PluginParameterSelectorList.cpp',
    'Syndicate/UI/PluginGraph/PluginParameterSelectorState.cpp',
    'Syndicate/UI/PluginGraph/PluginParameterSelectorWindow.cpp',
    'Syndicate/UI/PluginGraph/PluginSelectionInterface.cpp',
    'Syndicate/UI/PluginGraph/PluginSlotComponent.cpp',
    'Syndicate/UI/PluginGraph/PluginSlotModulationTray.cpp',
    'Syndicate/UI/SplitterButtonsComponent.cpp',
    'Syndicate/UI/UIUtils.cpp',
    'Syndicate/UI/UndoRedoComponent.cpp',
])

plugin_name = 'Syndicate'

scanner = executable('PluginScanServer',
    sources: files([
        'AllCommon/MainLogger.cpp',
        'PluginScanServer/Main.cpp',
    ]),
    include_directories: [
        include_directories([
            '../../libs/juce7',
            '../../libs/juce7/source',
            '../../libs/juce7/source/modules',
            '../../libs/juce-plugin',
            'AllCommon',
            'PluginScanServer',
        ]),
    ],
    c_args: build_flags,
    cpp_args: build_flags_cpp + ['-std=gnu++17'],
    link_args: link_flags,
    link_with: [ lib_juce7 ],
    install: false,
)

###############################################################################
